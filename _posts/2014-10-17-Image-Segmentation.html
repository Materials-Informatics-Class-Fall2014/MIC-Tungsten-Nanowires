---
layout: post
title: Initial Attempts at Image Segmentation 
tagline: image, processing, segmentation, bins, peaks
author: jallen30gt
date:   2014-10-17 20:30:00

references:
- http://terpconnect.umd.edu/~toh/spectrum/TOC.html
- http://awhite40.github.io/MIC-Modeling-Polymer-Composites/2014/10/15/Segmentation-via-Gaussian-Likelihood-Approximation.html
- http://materials-informatics-lab.github.io/2014/10/14/Image-Segmentation.html
- http://jallen30gt.github.io/MIC-Tungsten-Nanowires/2014/09/26/Interface-Analysis.html
---

# Initial Attempts at Data Segmentation

For this trail run at segmentation, I used the matlab code developed by [Dr. Tom O'Haver ](http://terpconnect.umd.edu/~toh/) for 
peak fitting and the [naive segmentation](https://gist.github.com/tonyfast/de3d7b841cea38dc40fa) code written by Tony. I also 
used different matlab filters and smoothing functions to smooth the data (imfilter in tandom with fspecial, imresize, wiener2).
I varied the number of peaks between 3 and 8 and varied the number of bins from 10 to 1000. This provided extremely tedious. 
For this post, I settled for an image capture with the following values:

__{{site.data['segmentation']}}__

<br>
This image shows my initial efforts with the image truncated to the area of interest:

![Alt text](http://i.imgur.com/MH8CuxO.jpg "Segmentation image ran with 7 peaks and 250 bins")

<br>


The image has been cropped to focus on a region of interest; that which we suspect is the evolvoing tri-oxide hydrate layer. 
For comparison sake, here is the orinal image deliniating the area of interest.

<br>

![Alt text](http://i.imgur.com/dExZKTw.jpg "Original image showing area of interest")


<br><br>

As you can see, the peak finding and fitting have some not so nice errors associated with conditions input.

<br>

![Alt text](http://i.imgur.com/RN7GadD.jpg "Segmentation histogram plot ran with 7 peaks and 250 bins")


<br>

## How does this relate to what has been done?

So, in reference to the segmented image, this image below represents the origianl image overlayed with the first spatial
derivative [work we did a couple of weeks prior.](http://jallen30gt.github.io/MIC-Tungsten-Nanowires/2014/09/26/Interface-Analysis.html)

<br>


![Alt text](http://i.imgur.com/Uk25D1G.jpg "Original image overlayed with first spatial derivative data")


<br>

I believe it is interesting to note that there whether we are taking numerical derivatives over the data or segmenting the data,
we find a simialar trend in this tri-oxide hydrate layer. 


## Problems/Thoughts
-  We need to play around with the segmentation program to better understand how the curve and peak fitting change with peak and bin changes
-  In a [previous post](http://jallen30gt.github.io/MIC-Tungsten-Nanowires/2014/09/26/Interface-Analysis.html), I wanted to extend an analysis of Tony's peak finding code to capture more maximum peaks, but can this segmentation program 
give us a better way forward? Or just another path forward?
-  The fits and errors I am seeng are not within ranges I would like to see.  Am I being too picky?  Any suggestions?

## What we need to do next
-  We need to try to get better fits with the segmentation program
-  We need to apply the segmentation program to more images (maybe 0% and 50% completion)
-  We need to figure out how the number of peaks and bins need to change with our data



